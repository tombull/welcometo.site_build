"use strict";function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}!function(){angular.module("welcomeToSite",["ngMaterial","ngMessages","ui.router","ngAnimate","home","pubnub.angular.service"])}(),angular.module("welcomeToSite").run(["$templateCache",function(e){e.put("home/home.tpl.html",'<div ng-show="ctrl.isFirst" id="welcomeScreen"><h1>Welcome To Site</h1><h2>Who are you here to see?</h2><md-autocomplete md-selected-item="ctrl.selectedItem" md-search-text="ctrl.searchText" md-items="item in ctrl.getNames(ctrl.searchText)" md-item-text="item"><span md-highlight-text="searchText">{{item}}</span></md-autocomplete><md-button class="md-primary md-raised" ng-click="ctrl.goToMap()">Go</md-button></div><div id="viewDiv" ng-show="ctrl.isMap"></div><div id="inTheBuilding" ng-show="ctrl.movementDone &lt; 6 &amp;&amp; ctrl.isMap"><h1>Locating Tom Shea...</h1></div><div id="inTheBuilding" ng-show="ctrl.movementDone &gt; 6"><h1 ng-show="ctrl.movementDone &lt; 12">Tom Shea is in the building, contacting...</h1><iframe class="videoFrame" src="http://localhost:8080/#/call"></iframe></div><div id="openingTheDoor" ng-show="ctrl.movementDone &gt; 60"><h1>Welcome! The door is opening.</h1></div>')}]),function(){function e(e){return function(n,a){return e.enabled(a,!0)}}function n(e){return function(n,a){return e.enabled(a,!1)}}e.$inject=["$animate"],n.$inject=["$animate"],angular.module("home",["ui.router"]).directive("enableAnimate",e).directive("disableAnimate",n),String.prototype.endsWith||(String.prototype.endsWith=function(e,n){var a=this.toString();("number"!=typeof n||!isFinite(n)||Math.floor(n)!==n||n>a.length)&&(n=a.length),n-=e.length;var t=a.indexOf(e,n);return t!==-1&&t===n})}(),function(){angular.module("home").constant("backendServer",{baseUrl:"https://api.welcometo.site"})}(),function(){angular.module("welcomeToSite").constant("hello","hello")}(),function(){function e(e){e.state("home",{url:"/",templateUrl:"home/home.tpl.html",controller:"HomeCtrl",controllerAs:"ctrl"})}e.$inject=["$stateProvider"],angular.module("home").config(e)}(),function(){var e=function n(e,a,t,o,i){_classCallCheck(this,n);var r=this;r.$scope=e,r.$log=t,r.$pubnubChannel=o,r.$interval=i,r.thePosition="Something",r.lat=1,r["long"]=1,r.movementDone=0,r.isFirst=!0,r.isMap=!1,r.activateMap=!1,r.goToMap=function(){r.isFirst=!1,r.isMap=!0,require(["esri/Map","esri/views/SceneView","esri/layers/SceneLayer","esri/layers/GraphicsLayer","esri/Graphic","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/SimpleFillSymbol","esri/renderers/SimpleRenderer","esri/symbols/MeshSymbol3D","esri/symbols/FillSymbol3DLayer","esri/symbols/PictureMarkerSymbol","dojo/domReady!"],function(e,n,a,t,o,i,l,s,c,u,d,m,h,g,b){var f=new h({symbolLayers:[new g({material:{color:[120,200,120,.95]}})]}),y=new m({symbol:f}),p=new e({basemap:"streets",ground:"world-elevation"}),v={xmin:-1,xmax:.75,ymin:51.25,ymax:51.75},w=new n({container:"viewDiv",map:p,clippingArea:v,scale:3e4,center:[-.019958,51.544555]});w.ui.empty("top-left");var C=new t;p.add(C);var S=new a({renderer:y,url:"http://tiles.arcgis.com/tiles/WQ9KVmV6xGGMnCiQ/arcgis/rest/services/OS_Open_3D_Building_Heights/SceneServer/"});p.add(S),w.on("click",function(){C.removeAll();var e=-.019958,n=51.544555,a=1500,t=a/40,s=[255,200,100],d=[0,0,0],m=new i({longitude:e,latitude:n,z:t}),h=new c({color:s,outline:{color:d,width:2}}),g=(new b({url:"https://webapps-cdn.esri.com/Apps/MegaMenu/img/logo.jpg",width:8,height:8}),new o({geometry:m,symbol:h}));C.add(g);var f=new l([[e,n,0],[e,n,t]]),y=new u({color:s,width:4}),p=new o({geometry:f,symbol:y});C.add(p),w.goTo({target:[e,n],tilt:60,scale:a}),r.activateMap=!0,r.moveTo=function(e,n){C.removeAll();var a=1500,t=a/40,r=[255,200,100],s=[0,0,0],d=new i({longitude:n,latitude:e,z:t}),m=new c({color:r,outline:{color:s,width:2}}),h=(new b({url:"https://webapps-cdn.esri.com/Apps/MegaMenu/img/logo.jpg",width:8,height:8}),new o({geometry:d,symbol:m}));C.add(h);var g=new l([[n,e,0],[n,e,t]]),f=new u({color:r,width:4}),y=new o({geometry:g,symbol:f});C.add(y),w.goTo({target:[n,e],tilt:60,scale:a})}})})},r.Pubnub=a,r.Pubnub.init({publishKey:"pub-c-bd389cd2-4ed5-46b8-884e-6cb24623872d",subscribeKey:"sub-c-385e20e6-b9ac-11e6-9868-02ee2ddab7fe"}),r.$scope.channel=o("location"),r.$interval(function(){r.Pubnub.publish({message:{request:"whereAreYou"},channel:"locationrequest"},function(e,n){e.error?r.$log.log(e):r.$log.log("message Published w/ timetoken",n.timetoken)})},500),r.Pubnub.addListener({message:function(e){r.activateMap&&(r.moveTo(e.message.lat,e.message["long"]),r.movementDone=r.movementDone+1)}}),r.listOfNames=["Darlene Corney","Karole Knick","Treasa Struthers","Anisha Folsom","Vida Rotter","Chante Templin","Mike Redwine","Mamie Tull","Kyla Stamey","Dodie Greaver","Gisela Benzing","Sunday Wetzler","Wan Brune","Arica Steiner","Joy Feliciano","Valorie Countess","Hulda Serrano","Colby Nickens","Carlena Ferrante","Fredia Plaster","Charlette Mangels","Carman Brouillette","Halina Rochester","Cyrus Back","Julienne Caulkins","Adeline Griffis","Racquel Duron","Eveline Salgado","Veronique Casady","Kayce Villano","Vena Winchell","Ken Woodson","Erwin Benedict","Tom Shea","Roberta Kersey","Ettie Schilling","Crystle Ryland","Tarra Decarlo","Madge Heyer","Delaine Riding","Jere Basilio","Johnna Rast","Chelsea Coplin","Antoine Veith","Antony Arbaugh","Tawanda Olds","Shaunte Cull","Lottie Ellerman","Xuan Roca","Nereida Teixeira","Kelley Stampley","Kiersten Giddens","Jacquelynn Leask","Mariam Fountain","Leatha Troung","Denice Coady","Ernie Goodlett","Donya Crosland","Rita Hembree","Reatha Lombardo","Ashlyn Mathieson","Danyell Erhart","Leandro Budd","Zona Rosenblum","Marty Arriola","Mae Surita","Carletta Massa","Nia Fitts","Merle Downes","Earline Teneyck","Eugene Hsu","Tiana Bunce","Una Weekly","Lizbeth Calabria","Mindy Larocco","Dian Dimatteo","Lynda Grout","Pearle Pullman","Iliana Kilbane","Paulene Maugeri","Gregoria Reay","Elissa Wager","Melodie Shuck","Horace Marcucci","Guy Mcmann","Coretta Galicia","Denyse Shield","Barrie Land","Lyle Winkel","Jama Musselman","Brendon Irwin","Oretha Deltoro","Nilsa Bring","Aleshia Hossain","Billi Zeno","Orval Greenawalt","Tonda Dutra","Peter Adkison","Vernon Klink","Carol Pavia","Rhett Daughtrey"],r.getNames=function(e){var n=[];return r.listOfNames.forEach(function(a){a.toLowerCase().includes(e.toLowerCase())&&n.push(a)}),n},r.Pubnub.subscribe({channels:["location"]})};e.$inject=["$scope","Pubnub","$log","$pubnubChannel","$interval"],angular.module("home").controller("HomeCtrl",e)}(),function(){function e(e){e.definePalette("wagstaffs-green",{50:"f0f7e8",100:"daebc6",200:"c1dea1",300:"rgba(131, 189, 66, 0.7)",400:"#96c75e",500:"rgba(102, 163, 47, 1)",600:"rgba(131, 189, 66, 0.9)",700:"rgba(86, 149, 37, 1)",800:"rgba(131, 189, 66, 0.9)",900:"rgba(58, 125, 20, 0.7)",A100:"ccff90",A200:"b2ff59",A400:"76ff03",A700:"64dd17",contrastDefaultColor:"light",contrastDarkColors:["50","100","200","A100","A200","A700"]}),e.definePalette("transparent-grey",{50:"#fafafa",100:"#f5f5f5",200:"rgba(238, 238, 238, 0.8)",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#ffffff",A200:"#000000",A400:"#303030",A700:"#616161",contrastDefaultColor:"dark",contrastLightColors:"600 700 800 900 A200 A400 A700"});var n=e.theme("default").primaryPalette("wagstaffs-green",{"default":"800","hue-1":"600","hue-2":"300","hue-3":"50"}).accentPalette("light-blue").warnPalette("deep-orange").backgroundPalette("transparent-grey",{"default":"200","hue-1":"A100","hue-2":"300","hue-3":"50"});n.foregroundPalette={name:"dark",1:"rgba(0,0,0,0.87)",2:"rgba(0,0,0,0.68)",3:"rgba(0,0,0,0.55)",4:"rgba(0,0,0,0.35)"}}e.$inject=["$mdThemingProvider"],angular.module("welcomeToSite").config(e)}(),function(){function e(e,n){e.otherwise("/"),n.state("site",{"abstract":!0})}function n(e){return{link:function(n,a){var t=e.$on("$stateChangeStart",function(){a.removeClass("ng-hide")}),o=e.$on("$stateChangeSuccess",function(){a.addClass("ng-hide")}),i=e.$on("$stateChangeError",function(){a.addClass("ng-hide")}),r=e.$on("$stateChangeCancel",function(){a.addClass("ng-hide")});a.addClass("ng-hide"),n.$on("$destroy",function(){t(),o(),i(),r()})}}}e.$inject=["$urlRouterProvider","$stateProvider"],n.$inject=["$rootScope"],angular.module("welcomeToSite").config(e).directive("showDuringResolve",n)}();
//# sourceMappingURL=app-79f19383f7.js.map
